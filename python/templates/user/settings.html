{% extends 'base.html' %}

{% block title %}Settings{% endblock %}

{% block content %}
<h2>Settings</h2>

<h4>Profile settings</h4>
<form method="POST" action="{% url 'update-settings' %}">
    {% csrf_token %}
    <div class="form-group">
    <label for="email">Email address</label>
    <input type="email" class="form-control {% if errors.email %}is-invalid{% endif %}" id="email" name="email" value="{{ data.email }}" placeholder="Email">

    {% if errors.email %}
    <div class="invalid-feedback">
        {{ errors.email }}
    </div>
    {% endif %}
    </div>

    <div class="form-group">
    <label for="username">Username</label>
    <input type="text" class="form-control {% if errors.username %}is-invalid{% endif %}"  id="username" name="username" value="{{ data.username }}" placeholder="Username">

    {% if errors.username %}
    <div class="invalid-feedback">
        {{ errors.username }}
    </div>
    {% endif %}
    </div>

    <div class="form-group">
    <label for="first_name">First name</label>
    <input type="text" class="form-control {% if errors.first_name %}is-invalid{% endif %}"  id="first_name" name="first_name" value="{{ data.first_name }}" placeholder="First name">

    {% if errors.first_name %}
    <div class="invalid-feedback">
        {{ errors.first_name }}
    </div>
    {% endif %}
    </div>

    <div class="form-group">
    <label for="last_name">Last name</label>
    <input type="text" class="form-control {% if errors.last_name %}is-invalid{% endif %}"  id="last_name" name="last_name" value="{{ data.last_name }}" placeholder="Last name">

    {% if errors.last_name %}
    <div class="invalid-feedback">
        {{ errors.last_name }}
    </div>
    {% endif %}
    </div>

    <button type="submit" class="btn btn-primary">Update profile</button>
</form>

<h4 class="mt-3">Change password</h4>
<form method="POST" action="{% url 'update-password' %}">
    {% csrf_token %}
    <div class="form-group">
        <label for="password_current">Current password</label>
        <input type="password" class="form-control {% if errors.password_current %}is-invalid{% endif %}" id="password_current" name="password_current" placeholder="Current password">

        {% if errors.password_current %}
        <div class="invalid-feedback">
            {{ errors.password_current }}
        </div>
        {% endif %}
    </div>

    <div class="form-group">
        <label for="password_new">New password</label>
        <input type="password" class="form-control {% if errors.password_confirm %}is-invalid{% endif %}" id="password_new" name="password_new" placeholder="New password">

        {% if errors.password_new %}
        <div class="invalid-feedback">
            {{ errors.password_new }}
        </div>
        {% endif %}
    </div>

    <div class="form-group">
        <label for="password_new_confirm">Confirm new password</label>
        <input type="password" class="form-control {% if errors.password_new_confirm %}is-invalid{% endif %}" id="password_new_confirm" name="password_new_confirm" placeholder="Confirm new password">

        {% if errors.password_new_confirm %}
        <div class="invalid-feedback">
            {{ errors.password_new_confirm }}
        </div>
        {% endif %}
    </div>

    <button type="submit" class="btn btn-primary">Change password</button>
</form>

<h4 class="mt-3">Delete account</h4>
<form method="POST" action="{% url 'delete-account' %}">
    {% csrf_token %}
    <button type="submit" class="btn btn-danger">Delete</button>
</form>
{% endblock %}
